<div class="Mainheight">
    <div class="Body">
      <div class="header">
        <div style="display: flex; gap: 12px">
          <div id="back-button" (click)="goback()" style="cursor: pointer">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.6666 10H3.33331M3.33331 10L8.33331 15M3.33331 10L8.33331 5"
                stroke="#363F72"
                stroke-width="1.67"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <div class="heading">Maintenance  Workorder Sequence</div>
        </div>
  
        <div class="scoreButtons">
          <div>
            <!-- <button class="upload_analysebtn" (click)="Rank()">History</button> -->
          </div>
          <div>
            <button class="upload_analysebtn" (click)="Onclear()">Clear</button>
          </div>
        </div>
      </div>
    </div>
  
    <div class="sectionBodyt">
      <div class="sectionBody1">
        <div class="box1sh">
          <div class="selectContainer">
            <div></div>
           
  
            <div class="pdfContainer">
              <img [src]="fileUrl" class="imgStyle" />
            </div>
          </div>
        </div>
      </div>
      <div class="sectionBody2">
        <div class="secoundflexContainer">
          <div class="Selectbox">
            <div
              class="upload_border"
              (click)="triggerFileInput()"
              *ngIf="flaseselectfile"
            >
              <div style="padding: 15px">
                <div>
                  <svg
                    width="40"
                    height="40"
                    viewBox="0 0 46 46"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="3"
                      y="3"
                      width="40"
                      height="40"
                      rx="20"
                      fill="#F2F4F7"
                    />
                    <rect
                      x="3"
                      y="3"
                      width="40"
                      height="40"
                      rx="20"
                      stroke="#F9FAFB"
                      stroke-width="6"
                    />
                    <g clip-path="url(#clip0_1194_2829)">
                      <path
                        d="M26.3333 26.3333L23 23M23 23L19.6666 26.3333M23 23V30.5M29.9916 28.325C30.8044 27.8819 31.4465 27.1807 31.8165 26.3322C32.1866 25.4836 32.2635 24.536 32.0351 23.6389C31.8068 22.7418 31.2862 21.9463 30.5555 21.3779C29.8248 20.8095 28.9257 20.5006 28 20.5H26.95C26.6977 19.5244 26.2276 18.6186 25.5749 17.8508C24.9222 17.083 24.104 16.4732 23.1817 16.0672C22.2594 15.6611 21.2571 15.4695 20.2501 15.5066C19.243 15.5437 18.2575 15.8086 17.3676 16.2814C16.4777 16.7542 15.7066 17.4226 15.1122 18.2363C14.5177 19.05 14.1155 19.9879 13.9358 20.9795C13.756 21.971 13.8034 22.9904 14.0743 23.961C14.3452 24.9317 14.8327 25.8282 15.5 26.5833"
                        stroke="#475467"
                        stroke-width="1.66667"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0_1194_2829">
                        <rect
                          width="20"
                          height="20"
                          fill="white"
                          transform="translate(13 13)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
                <div class="browserfile">Click here to browse files</div>
                <div>or drag and drop files</div>
              </div>
              <input
                type="file"
                #fileInput
                (change)="onFilesSelected($event)"
                multiple
                hidden
              />
            </div>
          </div>
  
          <div class="fileSelectedContainer" *ngIf="selectedFile">
            <div class="file_container">
              <div style="display: flex; align-items: center; gap: 20px">
                <svg
                  width="45"
                  height="45"
                  viewBox="0 0 37 36"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    x="2.35547"
                    y="2"
                    width="32"
                    height="32"
                    rx="16"
                    fill="#B2DDFF"
                  />
  
                  <rect
                    x="2.35547"
                    y="2"
                    width="32"
                    height="32"
                    rx="16"
                    stroke="#D1E9FF"
                    stroke-width="4"
                  />
  
                  <path
                    d="M19.0215 11.3333H14.3548C14.0012 11.3333 13.6621 11.4738 13.412 11.7239C13.162 11.9739 13.0215 12.3131 13.0215 12.6667V23.3333C13.0215 23.687 13.162 24.0261 13.412 24.2762C13.6621 24.5262 14.0012 24.6667 14.3548 24.6667H22.3548C22.7084 24.6667 23.0476 24.5262 23.2976 24.2762C23.5477 24.0261 23.6882 23.687 23.6882 23.3333V16M19.0215 11.3333L23.6882 16M19.0215 11.3333V16H23.6882"
                    stroke="#1570EF"
                    stroke-width="1.33333"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <div
                  style="
                    display: flex;
                    flex-direction: column;
                    word-break: break-word;
                  "
                >
                  <div>{{ selectedFile.name }}</div>
  
                  <div>{{ selectedFile.size }} bytes</div>
                </div>
              </div>
  
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 5px;
                  cursor: pointer;
                "
                (click)="deleteFile()"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="25px"
                  viewBox="0 -960 960 960"
                  width="25px"
                  fill="#EA3323"
                >
                  <path
                    d="M300.62-128q-38.85 0-64.74-25.88Q210-179.77 210-218.62V-724h-40v-66h188v-38.77h246V-790h188v66h-40v505.38q0 38.35-26.14 64.48Q699.73-128 661.38-128H300.62ZM686-724H276v505.38q0 10.77 6.92 17.7 6.93 6.92 17.7 6.92h360.76q9.24 0 16.93-7.69 7.69-7.69 7.69-16.93V-724ZM371.31-275h66v-368h-66v368Zm153.38 0h66v-368h-66v368ZM276-724v530-530Z"
                  />
                </svg>
              </div>
            </div>
  
            <div class="btnFlex1">
              <div>
                <button class="upload_analysebtn" (click)="onUpload()">
                  Upload
                </button>
              </div>
              <div>
                <button class="upload_analysebtn" (click)="sendTextareaValue()">
                  Analyse
                </button>
              </div>
            </div>
          </div>
  
          <div class="tableContainer">
            <div class="table">
              <table
                mat-table
                class="mat-elevation-z8 "
                [dataSource]="dataSource2"
              >
                <!-- Pdfname Column -->
                <ng-container matColumnDef="pdfname">
                  <th mat-header-cell *matHeaderCellDef class="pdf_name">
                    PDF Name
                  </th>
                  <td mat-cell *matCellDef="let element" class="pdf_name">
                    {{ element.pdfname }}
                  </td>
                </ng-container>
  
                <!-- Score Column -->
                <ng-container matColumnDef="score">
                  <th mat-header-cell *matHeaderCellDef class="score">Score</th>
                  <td
                    mat-cell
                    *matCellDef="let element"
                    [ngClass]="getScoreClass(element.score)"
                  >
                    {{ element.score }}
                  </td>
                </ng-container>
  
                <!-- Remarks Column -->
                <ng-container matColumnDef="remarks">
                  <th mat-header-cell *matHeaderCellDef class="Remark">
                    Remarks
                  </th>
                  <td mat-cell *matCellDef="let element" class="Remark" style="white-space: break-spaces">
                    {{ element.remarks !== "" ? element.remarks : "-" }}
                  </td>
                </ng-container>
  
                <!-- Date Column -->
                <!-- <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef>Date</th>
                  <td mat-cell *matCellDef="let element">{{ element.date }}</td>
                </ng-container> -->
  
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef>Action</th>
                  <td mat-cell *matCellDef="let element">              
  
                    <ng-container *ngIf="element.score > 90">
                      <button [ngClass]="getButtonClass(element.score, 'pass')" style="padding: 5px 10px; border-radius: 5px; border: none;">
                        Pass
                      </button>
                    </ng-container>
               
                    <ng-container *ngIf="element.score > 80 && element.score <= 90">
                      <div style="display: flex; gap: 12px" *ngIf="element.AcceptandReject">
                        <button [ngClass]="getButtonClass(element.score, 'accept')" (click)="acceptFun(element)">
                          Accept
                        </button>
                        <button [ngClass]="getButtonClass(element.score, 'reject')" (click)="rejectFun(element)">
                          Reject
                        </button>
                      </div>
                      <div *ngIf="element.AcceptBtn">
                        <button class="btn-green">
                          Pass
                        </button>
                      </div>
                      <div *ngIf="element.rejectBtn">
                        <button class="btn-red">Rejected</button>
                      </div>
                    </ng-container>
               
                    <ng-container *ngIf="element.score <= 80">
                      <button class="btn-red">Reject</button>
                    </ng-container>
                  </td>
                </ng-container>
                
  
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
              </table>
            </div>
            <div class="ErrorNode" *ngIf="errorMesg">
              Error While Analysing Please Reupload or Check Document is Empty!
            </div>
          </div>
  
          <!-- <div class="btnFlex">
            <div>
              <button
                class="upload_analysebtn"
                [style.background-color]="buttonColor"
                [style.color]="textColor"
              >
                {{ buttonText }}
              </button>
            </div>
            <div style="display: flex; gap: 10px" *ngIf="buttons">
              <button class="upload_analysebtn">Accept</button>
              <div>
                <div>
                  <button class="upload_analysebtn">Reject</button>
                </div>
              </div>
            </div>
          </div> -->
        </div>
      </div>
    </div>
  
    <ng-template #dialogTemplate>
      <div style="float: right; cursor: pointer" (click)="closeDialog()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="20px"
          viewBox="0 -960 960 960"
          width="20px"
          fill="#1E124A"
        >
          <path
            d="M287-243.69 245.69-287l192-193-192-195L287-718.31l194 195 192-195L714.31-675l-192 195 192 193L673-243.69l-192-195-194 195Z"
          />
        </svg>
      </div>
      <mat-dialog-content>
        <!--  -->
      </mat-dialog-content>
      <mat-dialog-actions> </mat-dialog-actions>
    </ng-template>
  
  
  
  
    <div class="spinnercontent" *ngIf="loader">
      <div class="spinnerclass">
        <mat-progress-spinner
          value="60"
          mode="indeterminate"
        ></mat-progress-spinner>
      </div>
    </div>
  </div>
  
  
  <!-- MobileView -->
  <div class="mobileViewStyleBody">
    
  </div>



  <section class="MainSection">
    <div class="container-fluid">
      <div class="bodySection">
        <div class="backClass" (click)="goback()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-arrow-left"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"
            />
          </svg>
          <div>back</div>
          <div>
            <P class="KpiTitle">Overall KPIâ€™s</P>
          </div>
        </div>
  
        <div style="margin-bottom: -20px ;margin-top: -12px;">
          <!-- button.component.html -->
          <button
            class="custom-button"
            (click)="setActiveButton(1)"
            [ngClass]="{ 'active-button': activeButton === 1 }"
          >
            KPIs
          </button>
          <button
            class="custom-button"
            (click)="setActiveButton(2)"
            [ngClass]="{ 'active-button': activeButton === 2 }"
          >
            First yield pass
          </button>
        </div>
        <hr style="height: 0.5px; color: gray; margin-bottom: 10px" />
  
        <div *ngIf="activeButton === 1">
          <section>
            <div class="mainHeader">
              <div class="mainHeader1">
                <div style="display: flex; margin-left: 12px">
                  <div class="" style="margin-top: 10px; margin-right:10px">Filters</div>
                  <div class="datclass">
                    <div class="datacomponents">
                      <mat-datepicker-toggle
                        matIconSuffix
                        [for]="picker"
                        class="dateIcon"
                      ></mat-datepicker-toggle>
                      <mat-date-range-input
                        [rangePicker]="picker"
                        class="startdateEnd"
                        
                      >
                        <input
                          matStartDate
                          placeholder="Start date"
                          (dateChange)="onDateChange($event, 'start')"
                         
                         
                         
                        />
                        <input
                          matEndDate
                          placeholder="End date"
                          (dateChange)="onDateChange($event, 'end')"
                         
                        
                        />
                      </mat-date-range-input>
                    </div>
                    <mat-date-range-picker #picker></mat-date-range-picker>
                  </div>
                  <select class="selectFields">
                    <option>Select Plant</option>
                  </select>
                  <select class="selectFields" (change)="onSelectChange($event)" [(ngModel)]="selectedTraino">
                    
                    <option
                      *ngFor="let traino of uniqueTrainoValues"
                      [value]="traino"
                    >
                      {{ traino }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="mainHeader2"></div>
              <div class="mainHeader3">
                <button class="buttonReset">Reset</button>
                <a href="/.pdf" download>
                <button class="buttonExport" >
                  <div style="display: flex; gap: 8px" >
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12.5535 16.5061C12.4114 16.6615 12.2106 16.75 12 16.75C11.7894 16.75 11.5886 16.6615 11.4465 16.5061L7.44648 12.1311C7.16698 11.8254 7.18822 11.351 7.49392 11.0715C7.79963 10.792 8.27402 10.8132 8.55352 11.1189L11.25 14.0682V3C11.25 2.58579 11.5858 2.25 12 2.25C12.4142 2.25 12.75 2.58579 12.75 3V14.0682L15.4465 11.1189C15.726 10.8132 16.2004 10.792 16.5061 11.0715C16.8118 11.351 16.833 11.8254 16.5535 12.1311L12.5535 16.5061Z"
                        fill="#1C274C"
                      />
                      <path
                        d="M3.75 15C3.75 14.5858 3.41422 14.25 3 14.25C2.58579 14.25 2.25 14.5858 2.25 15V15.0549C2.24998 16.4225 2.24996 17.5248 2.36652 18.3918C2.48754 19.2919 2.74643 20.0497 3.34835 20.6516C3.95027 21.2536 4.70814 21.5125 5.60825 21.6335C6.47522 21.75 7.57754 21.75 8.94513 21.75H15.0549C16.4225 21.75 17.5248 21.75 18.3918 21.6335C19.2919 21.5125 20.0497 21.2536 20.6517 20.6516C21.2536 20.0497 21.5125 19.2919 21.6335 18.3918C21.75 17.5248 21.75 16.4225 21.75 15.0549V15C21.75 14.5858 21.4142 14.25 21 14.25C20.5858 14.25 20.25 14.5858 20.25 15C20.25 16.4354 20.2484 17.4365 20.1469 18.1919C20.0482 18.9257 19.8678 19.3142 19.591 19.591C19.3142 19.8678 18.9257 20.0482 18.1919 20.1469C17.4365 20.2484 16.4354 20.25 15 20.25H9C7.56459 20.25 6.56347 20.2484 5.80812 20.1469C5.07435 20.0482 4.68577 19.8678 4.40901 19.591C4.13225 19.3142 3.9518 18.9257 3.85315 18.1919C3.75159 17.4365 3.75 16.4354 3.75 15Z"
                        fill="#1C274C"
                      />
                    </svg>
                    <div>Export</div>
                  </div>
                </button>
              </a>
              </div>
            </div>
  
            <div class="containerMain">
              <div class="containerMain1">
                <div class="card1" [style.border]="getBorderColorForValue(OEE)">
                  <div class="card1Body">
                    <div class="cardLabel">OEE</div>
                  
                    <div>
                      <div *ngIf="blinker">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper">
                            <div
                              class="outerred"
                              [style.background]="getColorouterForValue(OEE)"
                            ></div>
                            <div
                              class="middleRed"
                              [style.background]="getColorouterForValue(OEE)"
                            ></div>
                            <div
                              class="innerred"
                              [style.background]="getColorouterForValue(OEE)"
                            ></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(OEE)"
                          >
                            {{ OEE ? OEE : "0" }}
                          </div>
                        </div>
                      </div>
                      <div *ngIf="blinkgray">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper1">
                            <div class="outerred1"></div>
                            <div class="middleRed1"></div>
                            <div class="innerred1"></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(OEE)"
                          >
                            {{ OEE ? OEE : "0" }}
                          </div>
                        </div>
                      </div>
                      <!-- <div class="slideerflex">
                        <div class="slidervalu">{{ 0 }}</div>
                        <mat-slider thumbLabel tickInterval="1" min="0" max="100" [(ngModel)]="sliderValue" (input)="updateSliderColor()"
                        [style.--thumb-color]="thumbColor" [style.--track-fill-color]="trackFillColor" [style.backgroundcolor]="backgroundcolor" >
                        </mat-slider>
  
                        <div class="slidervalu">{{ 100 }}</div>
                      </div> -->
                      <p class="status">Status</p>
                      <div class="dayvalues">
                        <div class="valbo1">
                          <div class="dayvalesall">
                            <div class="textmr">Mrng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(OEEMORNING)"
                                [style.background]="
                                  getBGColorForValue(OEEMORNING)
                                "
                              >
                                <div>{{ OEEMORNING ? OEEMORNING : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
  
                        <div class="valbo2">
                          <div class="dayvalesall">
                            <div class="textmr">Noon.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(OEEAFTERNOON)"
                                [style.background]="
                                  getBGColorForValue(OEEAFTERNOON)
                                "
                              >
                                <div>{{ OEEAFTERNOON ? OEEAFTERNOON : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo3">
                          <div class="dayvalesall">
                            <div class="textmr">Evng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(OEEEVENING)"
                                [style.background]="
                                  getBGColorForValue(OEEEVENING)
                                "
                              >
                                <div>{{ OEEEVENING ? OEEEVENING : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="containerMain2">
                <div
                  class="card1"
                  [style.border]="getBorderColorForValue(AVALABILITY)"
                >
                  <div class="card1Body">
                    <div class="cardLabel">Availability</div>
                    <div>
                      <div *ngIf="blinker">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper">
                            <div
                              class="outerred"
                              [style.background]="
                                getColorouterForValue(AVALABILITY)
                              "
                            ></div>
                            <div
                              class="middleRed"
                              [style.background]="
                                getColorouterForValue(AVALABILITY)
                              "
                            ></div>
                            <div
                              class="innerred"
                              [style.background]="
                                getColorouterForValue(AVALABILITY)
                              "
                            ></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(AVALABILITY)"
                          >
                            {{ AVALABILITY ? AVALABILITY : "0" }}
                          </div>
                        </div>
                      </div>
                      <div *ngIf="blinkgray">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper1">
                            <div class="outerred1"></div>
                            <div class="middleRed1"></div>
                            <div class="innerred1"></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(AVALABILITY)"
                          >
                            {{ AVALABILITY ? AVALABILITY : "0" }}
                          </div>
                        </div>
                      </div>
                      <p class="status">Status</p>
                      <div class="dayvalues">
                        <div class="valbo1">
                          <div class="dayvalesall">
                            <div class="textmr">Mrng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(AvalMrng)"
                                [style.background]="getBGColorForValue(AvalMrng)"
                              >
                                <div>{{ AvalMrng ? AvalMrng : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo2">
                          <div class="dayvalesall">
                            <div class="textmr">Noon.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(AvalAft)"
                                [style.background]="getBGColorForValue(AvalAft)"
                              >
                                <div>{{ AvalAft ? AvalAft : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo3">
                          <div class="dayvalesall">
                            <div class="textmr">Evng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(AvalEnv)"
                                [style.background]="getBGColorForValue(AvalEnv)"
                              >
                                <div>{{ AvalEnv ? AvalEnv : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="containerMain3">
                <div
                  class="card1"
                  [style.border]="getBorderColorForValue(PERFORMANCE)"
                >
                  <div class="card1Body">
                    <div class="cardLabel">Performance</div>
                    <div>
                      <div *ngIf="blinker">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper">
                            <div
                              class="outerred"
                              [style.background]="
                                getColorouterForValue(PERFORMANCE)
                              "
                            ></div>
                            <div
                              class="middleRed"
                              [style.background]="
                                getColorouterForValue(PERFORMANCE)
                              "
                            ></div>
                            <div
                              class="innerred"
                              [style.background]="
                                getColorouterForValue(PERFORMANCE)
                              "
                            ></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(PERFORMANCE)"
                          >
                            {{ PERFORMANCE ? PERFORMANCE : "0" }}
                          </div>
                        </div>
                      </div>
                      <div *ngIf="blinkgray">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper1">
                            <div class="outerred1"></div>
                            <div class="middleRed1"></div>
                            <div class="innerred1"></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(PERFORMANCE)"
                          >
                            {{ PERFORMANCE ? PERFORMANCE : "0" }}
                          </div>
                        </div>
                      </div>
                      <p class="status">Status</p>
                      <div class="dayvalues">
                        <div class="valbo1">
                          <div class="dayvalesall">
                            <div class="textmr">Mrng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(PerMrng)"
                                [style.background]="getBGColorForValue(PerMrng)"
                              >
                                <div>{{ PerMrng ? PerMrng : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo2">
                          <div class="dayvalesall">
                            <div class="textmr">Noon.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(PerAft)"
                                [style.background]="getBGColorForValue(PerAft)"
                              >
                                <div>{{ PerAft ? PerAft : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo3">
                          <div class="dayvalesall">
                            <div class="textmr">Evng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(PerEvn)"
                                [style.background]="getBGColorForValue(PerEvn)"
                              >
                                <div>{{ PerEvn ? PerEvn : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="containerMain4">
                <div
                  class="card1"
                  [style.border]="getBorderColorForValue(QUALITY)"
                >
                  <div class="card1Body">
                    <div class="cardLabel">Quality</div>
                    <div>
                      <div *ngIf="blinker">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper">
                            <div
                              class="outerred"
                              [style.background]="getColorouterForValue(QUALITY)"
                            ></div>
                            <div
                              class="middleRed"
                              [style.background]="getColorouterForValue(QUALITY)"
                            ></div>
                            <div
                              class="innerred"
                              [style.background]="getColorouterForValue(QUALITY)"
                            ></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(QUALITY)"
                          >
                            {{ QUALITY ? QUALITY : "0" }}
                          </div>
                        </div>
                      </div>
                      <div *ngIf="blinkgray">
                        <div class="GuageValuesFlex">
                          <div class="parendMapper1">
                            <div class="outerred1"></div>
                            <div class="middleRed1"></div>
                            <div class="innerred1"></div>
                          </div>
                          <div
                            class="Gaugevalue"
                            [style.color]="getColorForValue(QUALITY)"
                          >
                            {{ QUALITY ? QUALITY : "0" }}
                          </div>
                        </div>
                      </div>
                      <p class="status">Status</p>
                      <div class="dayvalues">
                        <div class="valbo1">
                          <div class="dayvalesall">
                            <div class="textmr">Mrng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(QalMrng)"
                                [style.background]="getBGColorForValue(QalMrng)"
                              >
                                <div>{{ QalMrng ? QalMrng : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo2">
                          <div class="dayvalesall">
                            <div class="textmr">Noon.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(QalAft)"
                                [style.background]="getBGColorForValue(QalAft)"
                              >
                                <div>{{ QalAft ? QalAft : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="valbo3">
                          <div class="dayvalesall">
                            <div class="textmr">Evng.</div>
                            <div>
                              <div
                                class="colordiv"
                                [style.color]="getColorForValue(QalEvn)"
                                [style.background]="getBGColorForValue(QalEvn)"
                              >
                                <div>{{ QalEvn ? QalEvn : "0" }}</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
            <div class="containerr">
              <div class="box box-1">
                <div class="tppl">
                  <div class="titleTLP">Total length produced</div>
                  <div class="TLPNUM"  [style.color]="getColorFormeters(TotalProductLength)">
                    {{ TotalProductLength ? TotalProductLength : "0"
                    }}<span class="sub" [style.color]="getColorFormeters(TotalProductLength)">(meters)</span>
                  </div>
                </div>
                <div class="tppl">
                  <div class="titleTLP">Total pieces produced</div>
                  <div class="TLPNUM"  [style.color]="getColorFormeters(TotalPieceProduced)">
                    {{ TotalPieceProduced ? TotalPieceProduced : "0"
                    }}<span class="sub" [style.color]="getColorFormeters(TotalProductLength)">(pieces)</span>
                  </div>
                </div>
              </div>
              <div class="box box-2">
                <div class="GrapsBOx">
                  <div class="titleTLP">
                    Total downtime (in minutes)
                    <hr style="height: 1px; color: rgba(234, 236, 240, 1)" />
                  </div>
                  <div class="graphArea">
                    <div class="radiusblock">
                      <div class="boxradiusblue">
                      </div>
                      <div class="textadjust" style="margin-right: 10px;">
                        DownTime
                      </div>
                    
                    </div>
                    <!-- <canvas id="downtimechart" class="graphlineChart"> </canvas> -->
                    <div id="timeChart" class="chart"></div>
                  </div>
                </div>
              </div>
              <div class="box box-3">
                <div class="GrapsBOx">
                  <div class="titleTLP1">
                    Good parts vs Defective parts
                    <hr style="height: 1px; color: rgba(234, 236, 240, 1)" />
                  </div>
                  <div class="graphArea">
                    <div class="radiusblock">
                    <div class="boxradius">
                    </div>
                    <div class="textadjust" style="margin-right: 10px;">
                      Good parts
                    </div>
                    <div class="boxradiusGreen">
                    </div>
                    <div class="textadjust">
                      Defective parts
                    </div>
                  </div>
                   
  
                    <div id="barstackedchart" style="height: 80%;"></div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
        <div *ngIf="activeButton === 2">
          <section>
            <div class="FYPmainDiv">
              <div class="FYPmainDiv1">
                <select
                  class="selectFields"
                  [(ngModel)]="selectedCaseid"
                  (ngModelChange)="filterDataFYP()"
                >
                  <option>Select ID</option>
                  <option *ngFor="let case of uniqueCase">
                    {{ case }}
                  </option>
                </select>
                <select
                  class="selectFields"
                  [(ngModel)]="selectedActivityid"
                  (ngModelChange)="filterDataFYP()"
                >
                  <option>Select Activity</option>
                  <option *ngFor="let Activity of activities">
                    {{ Activity }}
                  </option>
                </select>
                <select
                  class="selectFields"
                  [(ngModel)]="selectedProcessid"
                  (ngModelChange)="filterDataFYP()"
                >
                  <option>Select Process</option>
                  <option *ngFor="let proces of process">
                    {{ proces }}
                  </option>
                </select>
                <input
                  class="selectFields"
                  type="date"
                  [(ngModel)]="selectedDateid"
                  (ngModelChange)="filterDataFYP()"
                />
              </div>
              <div class="FYPmainDiv2">
                <div class="mainHeader3">
                  <button class="buttonReset">Reset</button>
                  <a href="/.pdf" download>
                  <button class="buttonExport">
                    <div style="display: flex; gap: 8px">
                      <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M12.5535 16.5061C12.4114 16.6615 12.2106 16.75 12 16.75C11.7894 16.75 11.5886 16.6615 11.4465 16.5061L7.44648 12.1311C7.16698 11.8254 7.18822 11.351 7.49392 11.0715C7.79963 10.792 8.27402 10.8132 8.55352 11.1189L11.25 14.0682V3C11.25 2.58579 11.5858 2.25 12 2.25C12.4142 2.25 12.75 2.58579 12.75 3V14.0682L15.4465 11.1189C15.726 10.8132 16.2004 10.792 16.5061 11.0715C16.8118 11.351 16.833 11.8254 16.5535 12.1311L12.5535 16.5061Z"
                          fill="#1C274C"
                        />
                        <path
                          d="M3.75 15C3.75 14.5858 3.41422 14.25 3 14.25C2.58579 14.25 2.25 14.5858 2.25 15V15.0549C2.24998 16.4225 2.24996 17.5248 2.36652 18.3918C2.48754 19.2919 2.74643 20.0497 3.34835 20.6516C3.95027 21.2536 4.70814 21.5125 5.60825 21.6335C6.47522 21.75 7.57754 21.75 8.94513 21.75H15.0549C16.4225 21.75 17.5248 21.75 18.3918 21.6335C19.2919 21.5125 20.0497 21.2536 20.6517 20.6516C21.2536 20.0497 21.5125 19.2919 21.6335 18.3918C21.75 17.5248 21.75 16.4225 21.75 15.0549V15C21.75 14.5858 21.4142 14.25 21 14.25C20.5858 14.25 20.25 14.5858 20.25 15C20.25 16.4354 20.2484 17.4365 20.1469 18.1919C20.0482 18.9257 19.8678 19.3142 19.591 19.591C19.3142 19.8678 18.9257 20.0482 18.1919 20.1469C17.4365 20.2484 16.4354 20.25 15 20.25H9C7.56459 20.25 6.56347 20.2484 5.80812 20.1469C5.07435 20.0482 4.68577 19.8678 4.40901 19.591C4.13225 19.3142 3.9518 18.9257 3.85315 18.1919C3.75159 17.4365 3.75 16.4354 3.75 15Z"
                          fill="#1C274C"
                        />
                      </svg>
                      <div>Export</div>
                    </div>
                  </button>
                  </a>
                </div>
              </div>
            </div>
            <div>
              <div class="fypmainbox">
                <div class="fypbox1">
                  <label class="FYPtitlelabel">First yield pass</label>
                  <p class="FYPnumValue">{{ FYP }}</p>
                </div>
                <div class="fypbox2">
                  <label class="FYPtitlelabel">Quantity complete</label>
                  <p class="FYPnumValue">{{ QTYC }}</p>
                </div>
                <div class="fypbox3">
                  <label class="FYPtitlelabel">Quantity rejected</label>
                  <p class="FYPnumValue">{{ QTYR }}</p>
                </div>
                <div class="fypbox4">
                  <label class="FYPtitlelabel">Quantity for MRB</label>
                  <p class="FYPnumValue">{{ QTYM }}</p>
                </div>
              </div>
            </div>
  
            <div class="Fypgraph">
              <div id="barchartFYP" style="height: 100%;"></div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </section>
  